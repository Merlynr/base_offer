<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>Page Title</title>
    <ul>
      <li>sss</li>
      <li>sss</li>
      <li>sss</li>
      <li>sss</li>
    </ul>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" type="text/css" media="screen" href="main.css" />
    <script src="test.js"></script>
  </head>
  <body>
    <div class="count"></div>
    <script>
      var lis = document.querySelectorAll("li");
      for (var i = 0; i < lis.length; i++) {
        (function (j) {
          lis[j].onclick = function () {
            console.log(j);
          };
        })(i);
      }

      window.onload = function () {
        countDown();
        function addZero(i) {
          return i < 10 ? "0" + i : i + "";
        }
        function countDown() {
          var nowtime = new Date();
          var endtime = new Date("2022/08/05,17:57:00");
          var lefttime = parseInt(
            (endtime.getTime() - nowtime.getTime()) / 1000
          );
          var d = parseInt(lefttime / (24 * 60 * 60));
          var h = parseInt((lefttime / (60 * 60)) % 24);
          var m = parseInt((lefttime / 60) % 60);
          var s = parseInt(lefttime % 60);
          d = addZero(d);
          h = addZero(h);
          m = addZero(m);
          s = addZero(s);
          document.querySelector(
            ".count"
          ).innerHTML = `活动倒计时  ${d}天 ${h} 时 ${m} 分 ${s} 秒`;
          if (lefttime <= 0) {
            document.querySelector(".count").innerHTML = "活动已结束";
            return;
          }
          setTimeout(countDown, 1000);
        }
      };
    </script>
  </body>
</html>
